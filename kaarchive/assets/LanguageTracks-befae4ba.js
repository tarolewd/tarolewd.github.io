import{_ as E,r as _,m as T,o as h,c as y,a as e,F as L,s as V,f as i,t as R,w as I,j as P,n as $,p as j,g as C}from"./index-39bdb1ff.js";const D=""+new URL("firstencounter/languagetracks/firstencounter-noaudio.mp4",import.meta.url).href;const r=c=>(j("data-v-0655d225"),c=c(),C(),c),S=r(()=>e("div",{class:"fs-3 text-light"},"First Encounter",-1)),A=r(()=>e("div",{class:"fs-4"},"Language Tracks",-1)),B={class:"d-flex flex-row justify-content-center flex-wrap my-1",style:{"margin-right":"-0.5rem !important","margin-left":"-0.5rem !important"}},F=["onClick"],M=["src"],U={class:"mt-2 d-flex flex-row justify-content-center flex-wrap"},z={class:"card p-2 me-2 mb-2 fw-bold language-name"},N=["href","download"],W=r(()=>e("i",{class:"bi bi-download"},null,-1)),q=[W],G={class:"card p-2 mb-2 d-flex flex-row"},H=r(()=>e("span",{class:"me-1 icon-vol"},[e("i",{class:"bi bi-volume-off-fill"})],-1)),J=r(()=>e("span",{class:"ms-1 icon-vol"},[e("i",{class:"bi bi-volume-up-fill"})],-1)),K={class:"video-container"},O=["src"],Q={__name:"LanguageTracks",setup(c){const g=_(null),v=_(null),t=_(0),u=_(50);let d=!1,l=!1,p=!1,n=!1,f=!1,w=0;const o=["english","german","japanese","swedish","french"].sort(),b=a=>{if(t.value===a)return;g.value.pause(),n=p,l=!1,f=!0,t.value=a},x=()=>{const a=v.value;a.volume=u.value/100};return T(()=>{const a=g.value,s=v.value;a.addEventListener("canplaythrough",()=>{d=!0,d&&l&&n&&(a.play(),n=!1)}),a.addEventListener("seeking",()=>{n=n||Date.now()-w<1e3,d=!1,l=!1}),a.addEventListener("seeked",()=>{a.pause(),s.currentTime=a.currentTime}),a.addEventListener("play",()=>{s.volume=u.value/100,s.play(),p=!0}),a.addEventListener("pause",()=>{s.pause(),w=Date.now(),p=!1}),s.addEventListener("canplay",()=>{f&&(s.currentTime=a.currentTime,f=!1)}),s.addEventListener("canplaythrough",()=>{f||(l=!0,d&&l&&n&&(a.play(),n=!1))})}),(a,s)=>(h(),y(L,null,[S,A,e("div",B,[(h(!0),y(L,null,V(i(o),(m,k)=>(h(),y("div",{class:$(["flag-container mx-2 my-1",{"flag-container-active":t.value===k}]),key:m,onClick:X=>b(k)},[e("img",{class:"flag",src:`./assets/flags/${m}.svg`},null,8,M)],10,F))),128))]),e("div",U,[e("div",z,R(i(o)[t.value]),1),e("a",{class:"card p-2 me-2 mb-2 dl-btn",href:`./assets/firstencounter/languagetracks/languages/${i(o)[t.value]}.mp3`,role:"button",download:`firstencounter-${i(o)[t.value]}`},q,8,N),e("div",G,[H,I(e("input",{type:"range",class:"form-range",min:"0",max:"100",step:"1","onUpdate:modelValue":s[0]||(s[0]=m=>u.value=m),onInput:x,style:{width:"200px"}},null,544),[[P,u.value]]),J])]),e("div",K,[e("video",{ref_key:"videoRef",ref:g,controls:"",muted:"",disableRemotePlayback:"",src:D,preload:"auto"},null,512),e("audio",{ref_key:"audioRef",ref:v,class:"invisible",src:`./assets/firstencounter/languagetracks/languages/${i(o)[t.value]}.mp3`},null,8,O)])],64))}},Z=E(Q,[["__scopeId","data-v-0655d225"]]);export{Z as default};
