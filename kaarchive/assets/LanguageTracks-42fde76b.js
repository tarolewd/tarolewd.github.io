import{_ as E,r as g,m as T,o as h,c as y,a as s,F as L,s as V,f as r,t as R,w as I,j as P,n as $,p as j,g as C}from"./index-c80d42e1.js";const D=""+new URL("firstencounter/languagetracks/firstencounter-noaudio.mp4",import.meta.url).href;const i=c=>(j("data-v-c6a78401"),c=c(),C(),c),S=i(()=>s("div",{class:"fs-3 text-light"},"First Encounter",-1)),A=i(()=>s("div",{class:"fs-4"},"Language Tracks",-1)),B={class:"d-flex flex-row justify-content-center flex-wrap my-1",style:{"margin-right":"-0.5rem !important","margin-left":"-0.5rem !important"}},F=["onClick"],M=["src"],U={class:"mt-2 d-flex flex-row justify-content-center flex-wrap"},z={class:"card p-2 me-2 mb-2 fw-bold language-name"},N=["href","download"],W=i(()=>s("i",{class:"bi bi-download"},null,-1)),q=[W],G={class:"card p-2 mb-2 d-flex flex-row"},H=i(()=>s("span",{class:"me-1 icon-vol"},[s("i",{class:"bi bi-volume-off-fill"})],-1)),J=i(()=>s("span",{class:"ms-1 icon-vol"},[s("i",{class:"bi bi-volume-up-fill"})],-1)),K={class:"video-container"},O=["src"],Q={__name:"LanguageTracks",setup(c){const v=g(null),u=g(null),t=g(0),d=g(50);let f=!1,o=!1,p=!1,m=!1,_=!1,w=0;const l=["english","german","japanese","swedish","french"].sort(),b=e=>{if(t.value===e)return;const a=v.value,n=u.value;m=p,a.pause(),n.pause(),o=!1,a.controls=!1,_=!0,t.value=e},x=()=>{const e=u.value;e.volume=d.value/100};return T(()=>{const e=v.value,a=u.value;e.addEventListener("canplaythrough",()=>{f=!0,f&&o&&(e.controls=!0,m&&e.play())}),e.addEventListener("seeking",()=>{m=Date.now()-w<1e3,e.pause(),a.pause(),f=!1,o=!1,e.controls=!1}),e.addEventListener("seeked",()=>{a.currentTime=e.currentTime}),e.addEventListener("play",()=>{a.volume=d.value/100,a.play(),p=!0}),e.addEventListener("pause",()=>{a.pause(),w=Date.now(),p=!1}),a.addEventListener("canplay",()=>{_&&(a.currentTime=e.currentTime,_=!1)}),a.addEventListener("canplaythrough",()=>{_||(o=!0,f&&o&&(e.controls=!0,m&&e.play()))})}),(e,a)=>(h(),y(L,null,[S,A,s("div",B,[(h(!0),y(L,null,V(r(l),(n,k)=>(h(),y("div",{class:$(["flag-container mx-2 my-1",{"flag-container-active":t.value===k}]),key:n,onClick:X=>b(k)},[s("img",{class:"flag",src:`./assets/flags/${n}.svg`},null,8,M)],10,F))),128))]),s("div",U,[s("div",z,R(r(l)[t.value]),1),s("a",{class:"card p-2 me-2 mb-2 dl-btn",href:`./assets/firstencounter/languagetracks/languages/${r(l)[t.value]}.mp3`,role:"button",download:`firstencounter-${r(l)[t.value]}`},q,8,N),s("div",G,[H,I(s("input",{type:"range",class:"form-range",min:"0",max:"100",step:"1","onUpdate:modelValue":a[0]||(a[0]=n=>d.value=n),onInput:x,style:{width:"200px"}},null,544),[[P,d.value]]),J])]),s("div",K,[s("video",{ref_key:"videoRef",ref:v,muted:"",disableRemotePlayback:"",src:D},null,512),s("audio",{ref_key:"audioRef",ref:u,class:"invisible",src:`./assets/firstencounter/languagetracks/languages/${r(l)[t.value]}.mp3`},null,8,O)])],64))}},Z=E(Q,[["__scopeId","data-v-c6a78401"]]);export{Z as default};
