import{_ as E,r as _,m as T,o as v,c as h,a as s,F as L,s as V,f as i,t as R,w as I,j as P,n as $,p as j,g as C}from"./index-73d6fecc.js";const D=""+new URL("firstencounter/languagetracks/firstencounter-noaudio.mp4",import.meta.url).href;const r=c=>(j("data-v-7718c302"),c=c(),C(),c),S=r(()=>s("div",{class:"fs-3 text-light"},"First Encounter",-1)),A=r(()=>s("div",{class:"fs-4"},"Language Tracks",-1)),B={class:"d-flex flex-row justify-content-center flex-wrap my-1",style:{"margin-right":"-0.5rem !important","margin-left":"-0.5rem !important"}},F=["onClick"],M=["src"],U={class:"mt-2 d-flex flex-row justify-content-center flex-wrap"},z={class:"card p-2 me-2 mb-2 fw-bold language-name"},N=["href","download"],W=r(()=>s("i",{class:"bi bi-download"},null,-1)),q=[W],G={class:"card p-2 mb-2 d-flex flex-row"},H=r(()=>s("span",{class:"me-1 icon-vol"},[s("i",{class:"bi bi-volume-off-fill"})],-1)),J=r(()=>s("span",{class:"ms-1 icon-vol"},[s("i",{class:"bi bi-volume-up-fill"})],-1)),K={class:"video-container"},O=["src"],Q={__name:"LanguageTracks",setup(c){const y=_(null),m=_(null),t=_(0),u=_(50);let d=!1,l=!1,p=!1,n=!1,f=!1,w=0;const o=["english","german","japanese","swedish","french"].sort(),b=e=>{t.value!==e&&(n=p,l=!1,f=!0,t.value=e)},x=()=>{const e=m.value;e.volume=u.value/100};return T(()=>{const e=y.value,a=m.value;e.addEventListener("canplaythrough",()=>{d=!0,d&&l&&n&&(e.play(),n=!1)}),e.addEventListener("seeking",()=>{n=n||Date.now()-w<1e3,d=!1,l=!1}),e.addEventListener("seeked",()=>{e.pause(),a.currentTime=e.currentTime}),e.addEventListener("play",()=>{a.volume=u.value/100,a.play(),p=!0}),e.addEventListener("pause",()=>{console.log("pause"),a.pause(),w=Date.now(),p=!1}),a.addEventListener("canplay",()=>{f&&(e.pause(),a.currentTime=e.currentTime,f=!1)}),a.addEventListener("canplaythrough",()=>{f||(l=!0,d&&l&&n&&(e.play(),n=!1))})}),(e,a)=>(v(),h(L,null,[S,A,s("div",B,[(v(!0),h(L,null,V(i(o),(g,k)=>(v(),h("div",{class:$(["flag-container mx-2 my-1",{"flag-container-active":t.value===k}]),key:g,onClick:X=>b(k)},[s("img",{class:"flag",src:`./assets/flags/${g}.svg`},null,8,M)],10,F))),128))]),s("div",U,[s("div",z,R(i(o)[t.value]),1),s("a",{class:"card p-2 me-2 mb-2 dl-btn",href:`./assets/firstencounter/languagetracks/languages/${i(o)[t.value]}.mp3`,role:"button",download:`firstencounter-${i(o)[t.value]}`},q,8,N),s("div",G,[H,I(s("input",{type:"range",class:"form-range",min:"0",max:"100",step:"1","onUpdate:modelValue":a[0]||(a[0]=g=>u.value=g),onInput:x,style:{width:"200px"}},null,544),[[P,u.value]]),J])]),s("div",K,[s("video",{ref_key:"videoRef",ref:y,controls:"",muted:"",disableRemotePlayback:"",src:D,preload:"auto"},null,512),s("audio",{ref_key:"audioRef",ref:m,class:"invisible",src:`./assets/firstencounter/languagetracks/languages/${i(o)[t.value]}.mp3`},null,8,O)])],64))}},Z=E(Q,[["__scopeId","data-v-7718c302"]]);export{Z as default};
