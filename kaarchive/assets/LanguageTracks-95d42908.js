import{_ as w,r as _,m as T,o as p,c as m,a as s,F as k,s as x,f as v,t as b,n as R,p as P,g as C}from"./index-585cd2c4.js";const I=""+new URL("firstencounter/languagetracks/firstencounter-noaudio.mp4",import.meta.url).href;const L=r=>(P("data-v-c39de1d9"),r=r(),C(),r),S=L(()=>s("div",{class:"fs-3 text-light"},"First Encounter",-1)),V=L(()=>s("div",{class:"fs-4"},"Language Tracks",-1)),B={class:"d-flex flex-row justify-content-center flex-wrap my-1",style:{"margin-right":"-0.5rem !important","margin-left":"-0.5rem !important"}},D=["onClick"],F=["src"],$={class:"card bg-body-tertiary p-2 my-2 mx-auto fw-bold language-name"},j={class:"video-container"},A=["src"],z={__name:"LanguageTracks",setup(r){const u=_(null),d=_(null),t=_(0);let o=!1,n=!1,f=!1,l=!1,c=!1,h=0;const g=["english","german","japanese","swedish","french"].sort(),E=e=>{if(t.value===e)return;const a=u.value,i=d.value;l=f,a.pause(),i.pause(),n=!1,a.controls=!1,c=!0,t.value=e};return T(()=>{const e=u.value,a=d.value;e.addEventListener("canplaythrough",()=>{o=!0,o&&n&&(e.controls=!0,l&&e.play())}),e.addEventListener("seeking",()=>{l=Date.now()-h<1e3,e.pause(),a.pause(),o=!1,n=!1,e.controls=!1}),e.addEventListener("seeked",()=>{a.currentTime=e.currentTime}),e.addEventListener("play",()=>{a.play(),f=!0}),e.addEventListener("pause",()=>{a.pause(),h=Date.now(),f=!1}),a.addEventListener("canplay",()=>{c&&(a.currentTime=e.currentTime,c=!1)}),a.addEventListener("canplaythrough",()=>{c||(n=!0,o&&n&&(e.controls=!0,l&&e.play()))})}),(e,a)=>(p(),m(k,null,[S,V,s("div",B,[(p(!0),m(k,null,x(v(g),(i,y)=>(p(),m("div",{class:R(["flag-container mx-2 my-1",{"flag-container-active":t.value===y}]),key:i,onClick:M=>E(y)},[s("img",{class:"flag",src:`./assets/flags/${i}.svg`},null,8,F)],10,D))),128))]),s("div",$,b(v(g)[t.value]),1),s("div",j,[s("video",{ref_key:"videoRef",ref:u,muted:"",disableRemotePlayback:"",src:I},null,512),s("audio",{ref_key:"audioRef",ref:d,class:"invisible",src:`/assets/firstencounter/languagetracks/languages/${v(g)[t.value]}.mp3`},null,8,A)])],64))}},U=w(z,[["__scopeId","data-v-c39de1d9"]]);export{U as default};
