import{r as m,o as f,c as y,a as i,J as C,_ as E,G as k,K as p,s as x,H as z,d as v,F as h,I as L,e as r,p as w,g as V}from"./index-f43d684a.js";import{_ as j}from"./dynamic-import-helper-be004503.js";import{z as g}from"./functions-3efd0912.js";import{_ as S}from"./SiteHeader-7845f595.js";import{T as D}from"./bootstrap.esm-3ed82201.js";import{S as O}from"./ScrollUp-0366d5bb.js";const b=(e,t,o)=>{e.has(t)&&clearTimeout(e.get(t)),e.set(t,o)},P=(e,t)=>{const o=setTimeout(()=>{const s=e.children[0];s.src=s.dataset.src,e.load(),e.classList.remove("lazy-video"),t.delete(e.id)},1e3);b(t,e.id,o)},R=(e,t)=>{const o=setTimeout(()=>{e.paused&&e.play(),t.delete(e.id)},1e3);b(t,e.id,o)},A=(e,t)=>{const o=setTimeout(()=>{e.paused||e.pause(),t.delete(e.id)},600);b(t,e.id,o)},B=()=>{const e=new Map,t=new IntersectionObserver(s=>{s.forEach(n=>{const a=n.target;n.isIntersecting&&(a.classList.contains("lazy-poster")&&(a.poster=a.dataset.poster,a.classList.remove("lazy-poster")),n.intersectionRatio>=.6?a.classList.contains("lazy-video")?P(a,e):R(a,e):A(a,e))})},{rootMargin:"-63px 0px 0px 0px",threshold:[0,.6]});return document.querySelectorAll("video.lazy").forEach(s=>t.observe(s)),t},G={class:"toast-container position-fixed bottom-0 end-0 p-3"},M=i("div",{class:"toast-body"},[C("Copied "),i("i",{class:"bi bi-check-lg float-end"})],-1),N=[M],F={__name:"CopyClipboard",setup(e,{expose:t}){const o=m(null);let s=null;return t({copyToClipboard:async a=>{s||(s=new D(o.value,{delay:3e3})),await navigator.clipboard.writeText(a),s.show()}}),(a,l)=>(f(),y("div",G,[i("div",{class:"toast text-bg-success border-0",ref_key:"toastElem",ref:o,style:{width:"6rem"}},N,512)]))}};const H=e=>(w("data-v-efd663b8"),e=e(),V(),e),U=H(()=>i("div",{id:"scroll-up-mark"},null,-1)),q={class:"row row-cols-1 row-cols-lg-2"},J={class:"video-container"},K=["id","data-poster"],Q=["data-src"],W={class:"d-flex justify-content-center"},X=["onClick"],Y=["onClick"],Z={__name:"Gifs",props:{category:String,type:String,title:String},setup(e){const t=e,o=m(null),s=m([]),n=m([]);let a=null;const l=t.category.replaceAll(" ","").toLowerCase();let u=2;const $=c=>{const _=`https://cdn.discordapp.com/attachments/${s.value[c]}/${l}-gif-${t.type}-${g(c+1,u)}.gif`;o.value.copyToClipboard&&o.value.copyToClipboard(_)},T=c=>{const _=`https://imgur.com/${n.value[c]}`;o.value.copyToClipboard&&o.value.copyToClipboard(_)};return k(async()=>{const c=await j(Object.assign({"../../data/gifs/firstencounter-35mm.js":()=>p(()=>import("./firstencounter-35mm-7ec47b59.js"),[],import.meta.url),"../../data/gifs/firstencounter-ar16to9.js":()=>p(()=>import("./firstencounter-ar16to9-832f060b.js"),[],import.meta.url),"../../data/gifs/firstencounter-ar4to3.js":()=>p(()=>import("./firstencounter-ar4to3-181d362b.js"),[],import.meta.url),"../../data/gifs/secondencounter-35mm.js":()=>p(()=>import("./secondencounter-35mm-a56c3eb2.js"),[],import.meta.url),"../../data/gifs/secondencounter-ar16to9.js":()=>p(()=>import("./secondencounter-ar16to9-4ec28251.js"),[],import.meta.url),"../../data/gifs/secondencounter-ar4to3.js":()=>p(()=>import("./secondencounter-ar4to3-9c95b31c.js"),[],import.meta.url)}),`../../data/gifs/${l}-${t.type}.js`);s.value=c.discordIds,n.value=c.imgurIds,u=s.value.length.toString().length,x(()=>a=B())}),z(()=>{a.disconnect()}),(c,_)=>(f(),y(h,null,[v(S,{category:e.category,title:e.title},null,8,["category","title"]),U,i("div",q,[(f(!0),y(h,null,L(s.value.length,d=>(f(),y("div",{key:d,class:"col mb-4"},[i("div",J,[i("video",{id:d,class:"lazy lazy-poster lazy-video",autoplay:"",muted:"",loop:"",playsinline:"",disableRemotePlayback:"","data-poster":`./assets/${r(l)}/gifs-${e.type}/poster/${r(l)}-gif-${e.type}-poster-${r(g)(d,r(u))}.jpg`},[i("source",{"data-src":`./assets/${r(l)}/gifs-${e.type}/clips/${r(l)}-gif-${e.type}-clip-${r(g)(d,r(u))}.mp4`,type:"video/mp4"},null,8,Q)],8,K)]),i("div",W,[i("a",{class:"btn btn-outline-secondary btn-sm me-2",onClick:I=>T(d-1)},"imgur",8,X),i("button",{class:"btn btn-outline-secondary btn-sm",onClick:I=>$(d-1)},"gif",8,Y)])]))),128))]),v(F,{ref_key:"copyClipboardComp",ref:o},null,512),v(O,{"watch-id":"scroll-up-mark"})],64))}},ce=E(Z,[["__scopeId","data-v-efd663b8"]]);export{ce as default};
