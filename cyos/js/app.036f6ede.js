(function(t){function i(i){for(var e,a,r=i[0],l=i[1],c=i[2],h=0,u=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&u.push(n[a][0]),n[a]=0;for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(t[e]=l[e]);d&&d(i);while(u.length)u.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,i=0;i<o.length;i++){for(var s=o[i],e=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(e=!1)}e&&(o.splice(i--,1),t=a(a.s=s[0]))}return t}var e={},n={app:0},o=[];function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,i,s){a.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,i){if(1&i&&(t=a(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)a.d(s,e,function(i){return t[i]}.bind(null,e));return s},a.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(i,"a",i),i},a.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=i,r=r.slice();for(var c=0;c<r.length;c++)i(r[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,i,s){t.exports=s("56d7")},"56d7":function(t,i,s){"use strict";s.r(i);var e=s("2b0e"),n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"is-flex is-flex-direction-column",attrs:{id:"app"}},[s("div",{staticClass:"is-flex is-flex-direction-row is-align-items-center",attrs:{id:"head"}},[s("b-dropdown",{attrs:{"append-to-body":"","aria-role":"list","trap-focus":"","mobile-modal":!1},scopedSlots:t._u([{key:"trigger",fn:function(){return[s("b-button",{attrs:{"icon-right":"sliders-h"}})]},proxy:!0}])},[s("b-dropdown-item",{attrs:{"aria-role":"listitem",focusable:!1,custom:""}},[s("div",{staticClass:"is-flex is-flex-direction-row is-align-items-center"},[s("div",{staticClass:"setting-label has-text-weight-bold"},[t._v("Colors")]),s("div",{staticClass:"mr-1"},[s("input",{attrs:{type:"color",name:"color1"},domProps:{value:t.colors[0]},on:{change:function(i){return t.onColorChange(0,i)}}})]),s("div",{staticClass:"mr-1"},[s("input",{attrs:{type:"color",name:"color1"},domProps:{value:t.colors[1]},on:{change:function(i){return t.onColorChange(1,i)}}})]),s("div",[s("input",{attrs:{type:"color",name:"color1"},domProps:{value:t.colors[2]},on:{change:function(i){return t.onColorChange(2,i)}}})])]),s("div",{staticClass:"mt-2 is-flex is-flex-direction-row is-align-items-center"},[s("div",{staticClass:"setting-label has-text-weight-bold"},[t._v("Rings")]),s("div",{staticClass:"is-flex-grow-1"},[s("b-numberinput",{attrs:{expanded:"",size:"is-small",type:"is-dark","controls-position":"compact",min:"1",max:"10"},model:{value:t.rings,callback:function(i){t.rings=i},expression:"rings"}})],1)]),s("div",{staticClass:"mt-2 is-flex is-flex-direction-row is-align-items-center"},[s("div",{staticClass:"setting-label has-text-weight-bold"},[t._v("Stroke")]),s("div",{staticClass:"is-flex-grow-1"},[s("b-numberinput",{attrs:{expanded:"",size:"is-small",type:"is-dark","controls-position":"compact",min:"5",max:"30"},model:{value:t.strokeWidth,callback:function(i){t.strokeWidth=i},expression:"strokeWidth"}})],1)]),s("div",{staticClass:"mt-2 is-flex is-flex-direction-row is-align-items-center"},[s("div",{staticClass:"setting-label has-text-weight-bold"},[t._v("Speed")]),s("div",{staticClass:"is-flex-grow-1"},[s("b-numberinput",{attrs:{expanded:"",size:"is-small",type:"is-dark","controls-position":"compact",min:"10",max:"200",step:"10"},model:{value:t.speed,callback:function(i){t.speed=i},expression:"speed"}})],1)])])],1),s("div",{staticClass:"ml-5 mr-3 mb-0 field has-addons"},[s("p",{staticClass:"control"},[s("b-button",{attrs:{"icon-left":"play",disabled:t.running},on:{click:t.onPlay}})],1),s("p",{staticClass:"control"},[s("b-button",{attrs:{"icon-left":"stop",disabled:!t.running},on:{click:t.onStop}})],1)]),s("b-dropdown",{attrs:{"append-to-body":"","aria-role":"list","trap-focus":"","mobile-modal":!1},scopedSlots:t._u([{key:"trigger",fn:function(){return[s("b-button",{attrs:{"icon-right":t.volumeIcon}})]},proxy:!0}])},[s("b-dropdown-item",{attrs:{"aria-role":"listitem",focusable:!1,custom:""}},[s("b-slider",{attrs:{type:"is-dark",min:0,max:1,step:.05,indicator:!1,tooltip:!1},model:{value:t.volume,callback:function(i){t.volume=i},expression:"volume"}})],1)],1),s("div",{staticClass:"is-flex-grow-1"}),s("div",{staticClass:"ml-5"},[s("b-button",{attrs:{"icon-right":"link",type:t.copied?"is-success":""},on:{click:t.onCopyToClipboard}})],1),s("div",{staticClass:"ml-3"},[s("b-button",{attrs:{"icon-right":"info"},on:{click:function(i){t.showInfo=!t.showInfo}}})],1)],1),s("div",{staticClass:"is-flex-grow-1",attrs:{id:"content"}},[s("konva-canavas",{attrs:{colors:t.colors,rings:t.rings,"stroke-width":t.strokeWidth,speed:t.speed,running:t.running}})],1),s("info-modal",{attrs:{showInfo:t.showInfo},on:{"update:showInfo":function(i){t.showInfo=i},"update:show-info":function(i){t.showInfo=i}}})],1)},o=[],a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"konvacanvas"}})},r=[],l=s("362d"),c={props:{colors:Array,rings:Number,strokeWidth:Number,speed:Number,running:Boolean},data:function(){return{parent:document.getElementById("content"),dimension:{width:0,height:0},params:{size:0,circles:0},circles:[],status:{init:!1,running:!1,delay:null},konva:{stage:null,layer:null,animation:null}}},methods:{debounce:function(t,i=500){let s;return(...e)=>{clearTimeout(s),s=setTimeout(()=>{t.apply(this,e)},i)}},getColor:function(t){return this.colors[t%3]},setParams:function(){this.params.size=Math.max(this.dimension.width,this.dimension.height)/(2*this.rings);const t=Math.sqrt(this.dimension.width/2*(this.dimension.width/2)+this.dimension.height/2*(this.dimension.height/2));this.params.circles=3*Math.ceil(t/this.params.size/3)+3},setDimension:function(){this.parent&&(this.dimension={width:this.parent.clientWidth,height:this.parent.clientHeight},this.konva.stage&&(this.konva.stage.width(this.dimension.width),this.konva.stage.height(this.dimension.height)))},createCircles:function(){this.konva.layer.destroyChildren();let t=0;this.circles=[];const i=this.dimension.width/2,s=this.dimension.height/2;while(t<this.params.circles){const e=new l["a"].Circle({x:i,y:s,fill:this.getColor(t),stroke:"black",radius:t*this.params.size,strokeWidth:this.strokeWidth,hitStrokeWidth:0,shadowForStrokeEnabled:!1,listening:!1});t<1&&(e.radius(4),e.strokeWidth(8)),this.circles.push(e),t+=1}for(let e=this.circles.length-1;e>=0;e--)this.konva.layer.add(this.circles[e]);this.konva.stage.draw()},iniKonva:function(){this.konva.stage=new l["a"].Stage({container:"konvacanvas",width:this.dimension.width,height:this.dimension.height}),this.konva.layer=new l["a"].Layer,this.konva.stage.add(this.konva.layer),this.konva.animation=new l["a"].Animation(t=>{const i=this.speed;for(let s=0;s<this.circles.length;s++){const e=this.circles[s],n=e.radius();if(n>this.params.circles*this.params.size)e.radius(2),e.strokeWidth(4),e.moveToTop();else{const s=n+i*(t.timeDiff/1e3);e.strokeWidth()<this.strokeWidth&&e.strokeWidth(Math.min(2*s,this.strokeWidth)),e.radius(s)}}},this.konva.layer)},startAnimation:function(){this.konva.animation.start(),this.status.running=!0},stopAnimation:function(){this.konva.animation.stop(),this.status.running=!1}},watch:{rings:function(){this.status.running&&this.stopAnimation(),this.setParams(),this.createCircles(),this.running&&this.startAnimation()},strokeWidth:function(t){if(this.status.init){for(let i=0;i<this.circles.length;i++){const s=this.circles[i];s.strokeWidth(Math.min(2*s.radius(),t))}this.status.running||this.konva.stage.draw()}},colors:{immediate:!0,handler:function(){if(this.status.init){for(let t=0;t<this.circles.length;t++){const i=this.circles[t];i.fill(this.getColor(t))}this.status.running||this.konva.stage.draw()}}},running:function(){this.status.init&&(this.running?this.startAnimation():this.stopAnimation())}},mounted:function(){this.parent=document.getElementById("content"),window.addEventListener("resize",()=>{this.status.running&&this.stopAnimation(),this.setDimension(),this.setParams(),this.createCircles(),clearTimeout(this.status.delay),this.status.delay=setTimeout(()=>{this.running&&this.startAnimation()},1e3)}),this.setDimension(),this.setParams(),this.iniKonva(),this.createCircles(),this.status.init=!0}},d=c,h=s("2877"),u=Object(h["a"])(d,a,r,!1,null,null,null),m=u.exports,p=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("b-modal",{attrs:{"has-modal-card":"","can-cancel":["escape","outside"]},on:{close:t.onClose},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("v1.0")]),s("button",{staticClass:"delete",attrs:{type:"button"},on:{click:t.onClose}})]),s("section",{staticClass:"modal-card-body"},[s("div",{staticClass:"is-size-5 has-text-weight-bold"},[t._v("Made by Taro")]),s("div",{staticClass:"is-flex is-flex-direction-row is-align-items-center"},[s("b-icon",{attrs:{pack:"fab",icon:"twitter-square",size:"is-large"}}),s("a",{staticClass:"ml-1 has-text-weight-bold",attrs:{href:"https://twitter.com/Tarolewd",target:"_blank"}},[t._v("@Tarolewd")])],1),s("div",{staticClass:"is-flex is-flex-direction-row is-align-items-center"},[s("b-icon",{attrs:{pack:"fab",icon:"discord",size:"is-large"}}),s("a",{staticClass:"ml-1 has-text-weight-bold",attrs:{href:"https://discord.com/invite/V2EKfyDpV6",target:"_blank"}},[t._v("Kaa's Treetop")])],1),s("div",{staticClass:"is-size-5 has-text-weight-bold mt-4"},[t._v("Sources")]),s("div",{staticClass:"content"},[s("ul",{staticClass:"mt-0"},[s("li",[t._v("'Kaa ASMR' (Audio) by "),s("a",{staticClass:"has-text-weight-bold",attrs:{href:"https://www.youtube.com/channel/UCdFPB-7oRVyT74kBaDwid5Q",target:"_blank"}},[t._v("m5a5e5")])])])])]),s("footer",{staticClass:"modal-card-foot"})])])},f=[],g={props:{showInfo:Boolean},data:function(){return{show:this.showInfo}},watch:{showInfo:function(t){this.show=t}},methods:{onClose:function(){this.$emit("update:showInfo",!1)}}},v=g,b=Object(h["a"])(v,p,f,!1,null,null,null),w=b.exports,k={name:"App",components:{KonvaCanavas:m,InfoModal:w},data:function(){return{colors:["#7e99f9","#5fbaba","#d3bf2c"],rings:3,strokeWidth:15,speed:100,running:!1,audio:null,volume:0,muted:!1,showInfo:!1,copied:null}},methods:{onColorChange:function(t,i){this.$set(this.colors,t,i.target.value)},onPlay:function(){this.running=!0,this.audio&&this.audio.play()},onStop:function(){this.running=!1,this.audio&&(this.audio.pause(),this.audio.currentTime=0)},onCopyToClipboard:async function(){try{const t=`${window.location.href.split("?")[0]}?c1=${this.colors[0].slice(1)}&c2=${this.colors[1].slice(1)}&c3=${this.colors[2].slice(1)}&r=${this.rings}&st=${this.strokeWidth}&sp=${this.speed}`;await navigator.clipboard.writeText(t),clearTimeout(this.copied),this.copied=setTimeout(()=>{this.copied=null},300)}catch(t){console.error(t)}}},watch:{volume:function(t){this.audio.volume=t}},computed:{volumeIcon:function(){return 0===this.volume?"volume-mute":this.volume<.6?"volume-down":"volume-up"}},created:function(){const t=new URLSearchParams(window.location.search);t.get("c1")&&(this.colors[0]="#"+t.get("c1")),t.get("c2")&&(this.colors[1]="#"+t.get("c2")),t.get("c3")&&(this.colors[2]="#"+t.get("c3")),t.get("r")&&(this.rings=Math.min(10,Math.max(1,parseInt(t.get("r"))))),t.get("st")&&(this.strokeWidth=Math.min(30,Math.max(5,parseInt(t.get("st"))))),t.get("sp")&&(this.speed=Math.min(200,Math.max(10,parseInt(t.get("sp")))))},mounted:function(){this.audio=new Audio,this.audio.preload="auto",this.audio.volume=this.volume,this.audio.loop=!0,this.audio.muted=this.muted,this.audio.src=s("7df4")}},C=k,y=(s("5c0b"),Object(h["a"])(C,n,o,!1,null,null,null)),x=y.exports,_=s("289d"),I=(s("944d"),s("ecee")),T=s("c074"),W=s("f2d1"),P=s("ad3d");I["c"].add(T["e"],T["c"],T["f"],T["d"],T["g"],T["k"],T["j"],T["i"],T["h"],T["a"],T["b"],W["a"],W["b"]),e["a"].component("font-awesome-icon",P["a"]),e["a"].use(_["a"],{defaultIconComponent:"font-awesome-icon",defaultIconPack:"fas"}),e["a"].config.productionTip=!1,new e["a"]({render:t=>t(x)}).$mount("#app")},"5c0b":function(t,i,s){"use strict";s("9c0c")},"7df4":function(t,i,s){t.exports=s.p+"media/asmr.610ae25c.mp3"},"944d":function(t,i,s){},"9c0c":function(t,i,s){}});
//# sourceMappingURL=app.036f6ede.js.map